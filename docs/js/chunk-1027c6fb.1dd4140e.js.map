{"version":3,"sources":["webpack:///./src/components/week3/ex-component.vue?7329","webpack:///./src/components/week3/ex-component.vue","webpack:///./src/components/week3/ex-component.vue?b3f1","webpack:///./src/components/week3/ex-component.vue?336b","webpack:///./src/scripts/week3/utils.ts","webpack:///./src/views/week3/ex3.vue?1427","webpack:///./src/scripts/week3/ex3.ts","webpack:///./src/views/week3/ex3.vue","webpack:///./src/views/week3/ex3.vue?bdc3","webpack:///./src/views/week3/ex3.vue?317c","webpack:///./src/scripts/week3/ex1.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","title","validInputExplanation","directives","name","rawName","value","expression","domProps","on","$event","target","composing","input","result","calculate","trim","test","staticRenderFns","required","type","String","Function","component","tokenize","readOperator","tokens","index","length","isNaN","token","idx","push","readNumber","num","decimal","attrs","mainEx3","utils","ans","calculateBracketedFormula","includes","count","beginIdx","indexOf","newTokens","slice","partialTokens","unshift","partialAns","concat","components","ExComponent","mainEx1","readOperatorExceptParenthesis","calculateMultiplicationAndDivision","calculateAdditionAndSubtraction","i","newTokenValue"],"mappings":"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","file":"js/chunk-1027c6fb.1dd4140e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(_vm._s(_vm.title))]),_c('div',[_vm._v(_vm._s(_vm.validInputExplanation))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input),expression:\"input\"}],domProps:{\"value\":(_vm.input)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input=$event.target.value}}}),_c('br'),_c('button',{on:{\"click\":function($event){_vm.result = _vm.calculate(_vm.input.trim())}}},[_vm._v(\"計算\")]),_c('button',{on:{\"click\":function($event){_vm.result = _vm.test()}}},[_vm._v(\"テスト\")]),_c('div',[_vm._v(\"結果: \"+_vm._s(_vm.result))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from 'vue-property-decorator'\n\n@Component({\n  name: 'ExComponent',\n})\nexport default class extends Vue {\n  @Prop({ required: true, type: String }) title!: string\n  @Prop({ required: true, type: String }) validInputExplanation!: string\n  @Prop({ required: true, type: Function }) calculate!: (\n    input: string\n  ) => number | 'error'\n  @Prop({ required: true, type: Function }) test!: () => 'OK' | 'NG'\n\n  input = ''\n  result: string | number = ''\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ex-component.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ex-component.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ex-component.vue?vue&type=template&id=c3a6ed6c&\"\nimport script from \"./ex-component.vue?vue&type=script&lang=ts&\"\nexport * from \"./ex-component.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Token } from './type'\n\n/** 入力を Token 型の配列に変換 */\nexport const tokenize = (\n  input: string,\n  readOperator: (\n    input: string,\n    idx: number\n  ) => { token: Token | null; idx: number }\n) => {\n  const tokens: Token[] = ['+'] // ダミーの + を挿入\n  let index = 0\n  while (index < input.length) {\n    if (!isNaN(+input[index])) {\n      const { token, idx } = readNumber(input, index)\n      tokens.push(token)\n      index = idx\n    } else {\n      const { token, idx } = readOperator(input, index)\n      if (token === null) return null\n      tokens.push(token)\n      index = idx\n    }\n  }\n  return tokens\n}\n\n/** 数字読み込み */\nconst readNumber = (input: string, idx: number) => {\n  let num = 0\n  /** 整数部分読み込み */\n  while (idx < input.length && !isNaN(+input[idx])) {\n    num = num * 10 + +input[idx]\n    idx += 1\n  }\n  /** 小数部分読み込み */\n  if (input[idx] == '.') {\n    let decimal = 0.1\n    idx += 1\n    while (idx < input.length && !isNaN(+input[idx])) {\n      num += +input[idx] * decimal\n      decimal /= 10\n      idx += 1\n    }\n  }\n  const token = num\n  return { token, idx }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Week3\")]),_c('ex-component',{attrs:{\"title\":\"宿題3\",\"valid-input-explanation\":\"半角数字(小数含む)と+-*/()が入力可能\",\"calculate\":_vm.calculate,\"test\":_vm.test}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Token } from './type'\nimport * as utils from './utils'\nimport { calculate } from './ex1'\n\nexport const mainEx3 = (input: string) => {\n  const tokens = utils.tokenize(input, readOperator)\n  if (tokens === null) return 'error'\n  const ans = calculateBracketedFormula(tokens)\n  return ans\n}\n\nexport const test = () => {\n  return 'OK'\n}\n\nconst calculateBracketedFormula = (tokens: Token[]): number | 'error' => {\n  if (tokens.includes('(') && !tokens.includes(')')) return 'error'\n\n  if (tokens.includes('(')) {\n    let count = 0\n    const beginIdx = tokens.indexOf('(')\n    let idx = beginIdx + 1\n    while (count !== 0 || tokens[idx] !== ')') {\n      if (tokens[idx] === '(') count += 1\n      if (tokens[idx] === ')') count -= 1\n      idx += 1\n    }\n    let newTokens = tokens.slice(0, beginIdx)\n    const partialTokens = tokens.slice(beginIdx + 1, idx)\n    partialTokens.unshift('+')\n    const partialAns = calculateBracketedFormula(partialTokens)\n    if (partialAns === 'error') return 'error'\n    newTokens.push(partialAns)\n    newTokens = newTokens.concat(tokens.slice(idx + 1))\n    return calculateBracketedFormula(newTokens)\n  }\n  return calculate(tokens)\n}\n\nconst readOperator = (input: string, idx: number) => {\n  let token: Token | null = null\n  switch (input[idx]) {\n    case '+':\n      token = '+'\n      break\n    case '-':\n      token = '-'\n      break\n    case '*':\n      token = '*'\n      break\n    case '/':\n      token = '/'\n      break\n    case '(':\n      token = '('\n      break\n    case ')':\n      token = ')'\n      break\n  }\n  idx += 1\n  return { token, idx }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator'\nimport ExComponent from '@/components/week3/ex-component.vue'\nimport { mainEx3, test } from '@/scripts/week3/ex3'\n\n@Component({\n  name: 'Week3Ex3',\n  components: {\n    ExComponent,\n  },\n})\nexport default class extends Vue {\n  calculate = mainEx3\n  test = test\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ex3.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ex3.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ex3.vue?vue&type=template&id=468db152&\"\nimport script from \"./ex3.vue?vue&type=script&lang=ts&\"\nexport * from \"./ex3.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Token } from './type'\nimport * as utils from './utils'\n\nexport const mainEx1 = (input: string) => {\n  const tokens = utils.tokenize(input.trim(), readOperatorExceptParenthesis)\n  if (tokens === null) return 'error'\n  const ans = calculate(tokens)\n  return ans\n}\n\n/** () が無い式の計算 */\nexport const calculate = (tokens: Token[]) => {\n  const newTokens = calculateMultiplicationAndDivision(tokens)\n  const ans = calculateAdditionAndSubtraction(newTokens)\n  return ans\n}\n\n/** 掛け算と割り算のみ計算 */\nconst calculateMultiplicationAndDivision = (tokens: Token[]) => {\n  const newTokens: Token[] = []\n  for (let i = 0; i < tokens.length; i += 2) {\n    if (tokens[i] === '+' || tokens[i] === '-') {\n      newTokens.push(tokens[i])\n      newTokens.push(tokens[i + 1])\n      continue\n    }\n    if (tokens[i] === '*') {\n      const newTokenValue = +newTokens[newTokens.length - 1]\n      newTokens[newTokens.length - 1] = newTokenValue * +tokens[i + 1]\n    }\n    if (tokens[i] === '/') {\n      const newTokenValue = +newTokens[newTokens.length - 1]\n      newTokens[newTokens.length - 1] = newTokenValue / +tokens[i + 1]\n    }\n  }\n  return newTokens\n}\n\n/** 足し算と引き算のみの式を計算する */\nconst calculateAdditionAndSubtraction = (tokens: Token[]) => {\n  let ans = 0\n  for (let i = 0; i < tokens.length; i += 2) {\n    if (tokens[i] === '+') {\n      ans += +tokens[i + 1]\n    }\n    if (tokens[i] === '-') {\n      ans -= +tokens[i + 1]\n    }\n  }\n  return ans\n}\n\n/** +=/* 演算子の読み込み */\nconst readOperatorExceptParenthesis = (input: string, idx: number) => {\n  let token: Token | null = null\n  switch (input[idx]) {\n    case '+':\n      token = '+'\n      break\n    case '-':\n      token = '-'\n      break\n    case '*':\n      token = '*'\n      break\n    case '/':\n      token = '/'\n      break\n  }\n  idx += 1\n  return { token, idx }\n}\n"],"sourceRoot":""}