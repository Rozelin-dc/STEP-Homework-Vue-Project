{"version":3,"sources":["webpack:///./src/views/week3/ex1-ex2.vue?71d8","webpack:///./src/components/week3/ex-component.vue?7329","webpack:///./src/components/week3/ex-component.vue","webpack:///./src/components/week3/ex-component.vue?b3f1","webpack:///./src/components/week3/ex-component.vue?336b","webpack:///./src/scripts/week3/utils.ts","webpack:///./src/scripts/week3/ex1.ts","webpack:///./src/scripts/week3/ex2.ts","webpack:///./src/views/week3/ex1-ex2.vue","webpack:///./src/views/week3/ex1-ex2.vue?48cb","webpack:///./src/views/week3/ex1-ex2.vue?2973"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","calculate","test","staticRenderFns","_s","title","validInputExplanation","directives","name","rawName","value","expression","domProps","on","$event","target","composing","input","result","trim","required","type","String","Function","component","tokenize","readOperator","tokens","index","length","isNaN","token","idx","push","readNumber","num","decimal","mainEx1","ans","newTokens","calculateMultiplicationAndDivision","calculateAdditionAndSubtraction","slice","i","newTokenValue","mainEx2","components","ExComponent"],"mappings":"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","file":"js/chunk-2d0cfca1.54714369.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Week3\")]),_c('ex-component',{attrs:{\"title\":\"宿題1・宿題2\",\"valid-input-explanation\":\"半角数字(小数含む)と+-*/が入力可能\",\"calculate\":_vm.calculate,\"test\":_vm.test}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(_vm._s(_vm.title))]),_c('div',[_vm._v(_vm._s(_vm.validInputExplanation))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input),expression:\"input\"}],domProps:{\"value\":(_vm.input)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input=$event.target.value}}}),_c('br'),_c('button',{on:{\"click\":function($event){_vm.result = _vm.calculate(_vm.input.trim())}}},[_vm._v(\"計算\")]),_c('button',{on:{\"click\":function($event){_vm.result = _vm.test()}}},[_vm._v(\"テスト\")]),_c('div',[_vm._v(\"結果: \"+_vm._s(_vm.result))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from 'vue-property-decorator'\n\n@Component({\n  name: 'ExComponent',\n})\nexport default class extends Vue {\n  @Prop({ required: true, type: String }) title!: string\n  @Prop({ required: true, type: String }) validInputExplanation!: string\n  @Prop({ required: true, type: Function }) calculate!: (\n    input: string\n  ) => number | 'error'\n  @Prop({ required: true, type: Function }) test!: () => 'OK' | 'NG'\n\n  input = ''\n  result: string | number = ''\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ex-component.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ex-component.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ex-component.vue?vue&type=template&id=c3a6ed6c&\"\nimport script from \"./ex-component.vue?vue&type=script&lang=ts&\"\nexport * from \"./ex-component.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Token } from './type'\n\n/** 入力を Token 型の配列に変換 */\nexport const tokenize = (\n  input: string,\n  readOperator: (\n    input: string,\n    idx: number\n  ) => { token: Token | null; idx: number }\n) => {\n  const tokens: Token[] = ['+'] // ダミーの + を挿入\n  let index = 0\n  while (index < input.length) {\n    if (!isNaN(+input[index])) {\n      const { token, idx } = readNumber(input, index)\n      tokens.push(token)\n      index = idx\n    } else {\n      const { token, idx } = readOperator(input, index)\n      if (token === null) return null\n      tokens.push(token)\n      index = idx\n    }\n  }\n  return tokens\n}\n\n/** 数字読み込み */\nconst readNumber = (input: string, idx: number) => {\n  let num = 0\n  while (idx < input.length && !isNaN(+input[idx])) {\n    num = num * 10 + +input[idx]\n    idx += 1\n  }\n  if (input[idx] == '.') {\n    let decimal = 0.1\n    idx += 1\n    while (idx < input.length && !isNaN(+input[idx])) {\n      num += +input[idx] * decimal\n      decimal /= 10\n      idx += 1\n    }\n  }\n  const token = num\n  return { token, idx }\n}\n","import { Token } from './type'\nimport * as utils from './utils'\n\nexport const mainEx1 = (input: string) => {\n  const tokens = utils.tokenize(input.trim(), readOperator)\n  if (tokens === null) return 'error'\n  const ans = calculate(tokens)\n  return ans\n}\n\n/** () が無い式の計算 */\nexport const calculate = (tokens: Token[]) => {\n  const newTokens = calculateMultiplicationAndDivision(tokens)\n  const ans = calculateAdditionAndSubtraction(newTokens)\n  return ans\n}\n\n/** 掛け算と割り算のみ計算 */\nconst calculateMultiplicationAndDivision = (tokens: Token[]) => {\n  const newTokens: Token[] = tokens.slice(0, 2)\n  for (let i = 2; i < tokens.length; i += 2) {\n    if (tokens[i] === '+' || tokens[i] === '-') {\n      newTokens.push(tokens[i])\n      newTokens.push(tokens[i + 1])\n      continue\n    }\n    if (tokens[i] === '*') {\n      const newTokenValue = +newTokens[newTokens.length - 1]\n      newTokens[newTokens.length - 1] = newTokenValue * +tokens[i + 1]\n    }\n    if (tokens[i] === '/') {\n      const newTokenValue = +newTokens[newTokens.length - 1]\n      newTokens[newTokens.length - 1] = newTokenValue / +tokens[i + 1]\n    }\n  }\n  return newTokens\n}\n\n/** 足し算と引き算のみの式を計算する */\nconst calculateAdditionAndSubtraction = (tokens: Token[]) => {\n  let ans = 0\n  for (let i = 0; i < tokens.length; i += 2) {\n    if (tokens[i] === '+') {\n      ans += +tokens[i + 1]\n    }\n    if (tokens[i] === '-') {\n      ans -= +tokens[i + 1]\n    }\n  }\n  return ans\n}\n\n/** +=/* 演算子の読み込み */\nconst readOperator = (input: string, idx: number) => {\n  let token: Token | null = null\n  switch (input[idx]) {\n    case '+':\n      token = '+'\n      break\n    case '-':\n      token = '-'\n      break\n    case '*':\n      token = '*'\n      break\n    case '/':\n      token = '/'\n      break\n  }\n  idx += 1\n  return { token, idx }\n}\n","import { mainEx1 } from './ex1'\n\n/** 宿題1のテスト */\nexport const mainEx2 = () => {\n  let ans = 1\n  let result = mainEx1('1')\n  if (result !== ans) return 'NG'\n\n  ans = 2\n  result = mainEx1('1+1')\n  if (result !== ans) return 'NG'\n\n  ans = 3\n  result = mainEx1('1.0+2')\n  if (result !== ans) return 'NG'\n\n  ans = -5\n  result = mainEx1('1-2*3')\n  if (result !== ans) return 'NG'\n\n  ans = 3\n  result = mainEx1('2*3/2')\n  if (result !== ans) return 'NG'\n\n  ans = 5.4\n  result = mainEx1('1+2*3-4/5*2')\n  if (result !== ans) return 'NG'\n\n  return 'OK'\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator'\nimport ExComponent from '@/components/week3/ex-component.vue'\nimport { mainEx1 } from '@/scripts/week3/ex1'\nimport { mainEx2 } from '@/scripts/week3/ex2'\n\n@Component({\n  name: 'Week3Ex1Ex2',\n  components: {\n    ExComponent,\n  },\n})\nexport default class extends Vue {\n  calculate = mainEx1\n  test = mainEx2\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ex1-ex2.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ex1-ex2.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ex1-ex2.vue?vue&type=template&id=4908f9c1&\"\nimport script from \"./ex1-ex2.vue?vue&type=script&lang=ts&\"\nexport * from \"./ex1-ex2.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}